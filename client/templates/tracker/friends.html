<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    {% include 'tracker/header.html' %}
    <title>AvoRate - Friends</title>
  </head>
  <body>
    {% include 'tracker/global_links.html' %}

    <main class="page-container">
      <section class="card">
        <h1 class="page-title">Friends</h1>

        <div class="shelf-section">
          <h2 class="section-title">Received Invites</h2>

          <div class="friends-list">
            {% if friend_invites %}
              {% for invite in friend_invites %}
              <div class="friend-row">
                <div class="friend-main">
                  <div class="friend-avatar"></div>
                  <div>
                    <div class="friend-name">{{ invite.name }}</div>
                    <div class="friend-meta">
                      {{ invite.mutual_count }} mutual friends
                    </div>
                  </div>
                </div>

                <button class="btn-secondary" type="button">
                  Accept
                </button>
              </div>
              {% endfor %}
            {% else %}
              <p class="text-muted" style="font-size: 0.9rem">
                No invites received at the moment.
              </p>
            {% endif %}
          </div>
        </div>

        <div class="shelf-section">
          <div
            class="form-row-inline"
            style="
              align-items: center;
              justify-content: space-between;
              margin-bottom: 0.75rem;
            "
          >
            <h2 class="section-title" style="margin: 0">Friends</h2>
            <button class="btn-secondary" type="button">
              Add Friends
            </button>
          </div>

          <div class="form-field" style="margin-bottom: 0.75rem">
            <input
              type="search"
              placeholder="Find friend..."
              name="search_friend"
            />
          </div>

          <div class="friends-list">
            {% if friends %}
              {% for friend in friends %}
              <div class="friend-row">
                <div class="friend-main">
                  <div class="friend-avatar"></div>
                  <div>
                    <div class="friend-name">{{ friend.name }}</div>
                    <div class="friend-meta">
                      {{ friend.stats or 'No additional information' }}
                    </div>
                  </div>
                </div>
              </div>
              {% endfor %}
            {% else %}
              <p class="text-muted" style="font-size: 0.9rem">
                You haven't added any friends yet.
              </p>
            {% endif %}
          </div>
        </div>
      </section>
    </main>
  </body>
</html>
