<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    {% include 'tracker/header.html' %}
    <title>AvoRate - Registrar</title>
  </head>
  <body>
    {% include 'registration/global_links.html' %}

    <main class="page-container">
      <section class="card">
        <h1 class="page-title">Registrar-me</h1>

        <div class="flash-messages">
          {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
          {% for category, message in messages %}
          <div class="flash {{ category }}">{{ message }}</div>
          {% endfor %}
          {% endif %}
          {% endwith %}
        </div>

        <form
          class="form"
          method="POST"
          action="{{ url_for('auth.signup') }}"
          novalidate
        >
          <div class="form-field">
            <label for="name">Nome</label>
            <input
              id="name"
              name="name"
              type="text"
              autocomplete="name"
              placeholder="Seu nome"
            />
          </div>

          <div class="form-field">
            <label for="email">E-mail</label>
            <input
              id="email"
              name="email"
              type="email"
              required
              autocomplete="email"
            />
          </div>

          <!-- AQUI é o ponto importante: name="password" -->
          <div class="form-field">
            <label for="password">Senha</label>
            <input
              id="password"
              name="password"
              type="password"
              required
              autocomplete="new-password"
            />
          </div>

          <!-- Campo de confirmação, só visual (ou pro backend se ele usar) -->
          <div class="form-field">
            <label for="confirm_password">Confirme a Senha</label>
            <input
              id="confirm_password"
              name="confirm_password"
              type="password"
              required
              autocomplete="new-password"
            />
          </div>

          <div class="form-actions">
            <button type="submit" class="btn-primary">Entrar</button>
          </div>
        </form>
      </section>
    </main>
  </body>
</html>
